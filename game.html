<!DOCTYPE html>
<html>
<head>
    <title>Game</title>
    <script src="js/p5.min.js"></script>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="map.js"></script>
		<style> body {padding: 0; margin: 0;} </style>
    <script>
        var c, map;
        
        function initMap() {
            console.log('init');
            map = mapJSON.map;
            console.log(map.length);
        }

        function drawSingleTile(tileType,x1,y1,x2,y2,x3,y3,x4,y4) {
            // change the fill or whatever based on tileType
            fill(c);
            quad(x1,y1,x2,y2,x3,y3,x4,y4);
        }

        function drawTiles() {
            tileWidth = 128;
            tileHeight = 64;
            numRows = 10;
            numCols = 10;
            push();
            translate(tileWidth/2, numRows*tileHeight/2);
            for (y = 0; y< numRows; y++){
                for (x = 0; x< numCols; x++){
                    drawSingleTile(0, -tileWidth/2, 0, 0, tileHeight/2, tileWidth/2, 0, 0, -tileHeight/2);
                    translate(tileWidth/2, -tileHeight/2);
                }
                translate(-numCols*tileWidth/2,numCols*tileHeight/2);
                translate(tileWidth/2, tileHeight/2);
            }
            pop();
        }
    
        function setup() {
						c = color(0,0,255);
            initMap();
						//devicePixelScaling(false);
            createCanvas(windowWidth-4, windowHeight-4);
            background(200);
        }

        function draw() {
            drawTiles();
        }
    </script>
</head>
<body>
</body>
</html>
